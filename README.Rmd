---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# h3jsr

h3jsr provides access to [Uber's H3 library](https://github.com/uber/h3) via its [javascript bindings](https://github.com/uber/h3-js), using the magical power of [`V8`](https://github.com/jeroen/v8). This is a stopgap package that should keep us #rspatial nerds happy until someone writes proper R bindings.

H3 is a hexagonal hierarchical geospatial indexing system.

## Installation

Install from github with

```{r 'installation', eval = FALSE}
devtools::install_github("obrl-soil/h3jsr")
```

## Example

At the moment, only the core API functions are accessible.

```{r example}
library(h3jsr)

# where is the Brisbane Town Hall at resolution 15?
geo_to_h3(lon = 153.023503, lat = -27.468920, res = 15)

# where is it at multiple resolutions?
geo_to_h3(lon = 153.023503, lat = -27.468920, res = seq(15))

# Where is the center of the hexagon over the Brisbane Town 
# Hall at resolution 10?
brisbane_10 <- h3_to_geo(h3_address = '8abe8d12acaffff')
brisbane_10

# Is that a valid H3 address?
h3_is_valid(h3_address = '8abe8d12acaffff')

# is it a pentagon?
h3_is_pentagon(h3_address = '8abe8d12acaffff')

# is it Class III?
h3_is_rc3(h3_address = '8abe8d12acaffff')

# What is Brisbane Town Hall's base cell number?
h3_get_base_cell(h3_address = '8abe8d12acaffff')

# What is Brisbane Town Hall's base cell number?
#' h3_get_res(h3_address = '8abe8d12acaffff')

# What is the hexagon over the Brisbane Town Hall at resolution 10?
brisbane_hex_10 <- h3_to_geo_boundary(h3_address = '8abe8d12acaffff')

# if you're feeling fancy,
#sf::st_polygon(brisbane_hex_10$h3_hex) %>%
#  sf::st_sfc(., crs = 4326) %>%
#  mapview::mapview()

```

Props to Joel Gombin, who's package [`concaveman`](https://github.com/joelgombin/concaveman) provided me with the implementation inspo.

***
